<!DOCTYPE html>
<html lang="it">
<head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <script src="https://kit.fontawesome.com/55c134a797.js" crossorigin="anonymous"></script>
      
      <title>banchi</title>

      <style>


            * {
                  margin: 0;
                  padding: 0;
                  font-family: Arial;
            }
            body {
                  min-height: 100vh;
                  background-color: gray;
                  display: flex;
                  flex-direction: column;
                  justify-content: center;
                  align-items: center;
                  gap: 30px;
            }
            button {
                  height: 50px;
                  border: none;
                  border-radius: 10px;
                  box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
                  cursor: pointer;
                  position: relative;
                  transition: all 0.3 ease;
            }
            .container {
                  width: 90%;
                  max-width: 700px;
                  background-color: lightgray;
                  display: flex;
                  flex-direction: column;
                  gap: 20px;
                  padding: 20px 0;
            }
            button span {
                  text-shadow: 0 0 4px rgba(0, 0, 0, 0.3);
            }
            .riga {
                  height: 50px;
                  width: 100%;
                  display: flex;
                  flex-flow: row nowrap;
                  justify-content: space-between;
            }
            .isola {
                  width: 33%;
                  display: flex;
                  flex-flow: row nowrap;
                  justify-content: center;
                  gap: 10px;
            }
            .banco {
                  width: 30%;
                  background-color:burlywood;
                  box-shadow: 0 0 4px rgba(0, 0, 0, 0.7);
                  border-radius: 4px;
                  font-size: 30px;
                  display: flex;
                  justify-content: center;
                  align-items: center;
            }
            .banco img {
                  height: 45px;
            }

            .pulsa {
                  animation: pulsa 0.5s ease;
            }
            .iAnim {
                  animation: iAnim 1.4s linear infinite;
            }
            @keyframes pulsa {
                  0% {transform: scale(1)}
                  50% {transform: scale(1.2); background-color: palegreen;}
                  100% {transform: scale(1)}
            }
            @keyframes iAnim {
                  0% {transform: rotate(0deg)}
                  100% {transform: rotate(360deg);}
            }



            @media only screen and (max-width: 430px) {
                  .banco {
                        font-size: 20px;
                  }
            }
            @media only screen and (max-width: 250px) {
                  .banco {
                        font-size: 10px;
                  }
            }
      


      </style>

</head>
<body>

      <div class="container">
            <div class="riga">
                  <div class="isola">
                        <div class="banco"></div>
                        <div class="banco"></div>
                  </div>
                  <div class="isola">
                        <div class="banco"></div>
                        <div class="banco"></div>
                  </div>
                  <div class="isola">
                        <div class="banco"></div>
                        <div class="banco"></div>
                  </div>
            </div>
            <div class="riga">
                  <div class="isola">
                        <div class="banco"></div>
                        <div class="banco"></div>
                  </div>
                  <div class="isola">
                        <div class="banco"></div>
                        <div class="banco"></div>
                  </div>
                  <div class="isola">
                        <div class="banco"></div>
                        <div class="banco"></div>
                  </div>
            </div>
            <div class="riga">
                  <div class="isola">
                        <div class="banco"></div>
                        <div class="banco"></div>
                  </div>
                  <div class="isola">
                        <div class="banco"></div>
                        <div class="banco"></div>
                        <div class="banco"></div>
                  </div>
                  <div class="isola">
                        <div class="banco"></div>
                        <div class="banco"></div>
                  </div>
            </div>
      </div>

      <div>
            <button onclick="assegnaPosti()" style="aspect-ratio: 1/1;"><span class="iContainer">ðŸ”„</span></button>
            <button id="fotoBtn" onclick="funzioneFoto()" style="padding: 10px;"><span class="iContainer"></span></button>
      </div>

      <script src="script.js"></script>
      <script src='../../homePageButton.js'></script>
      <script src='https://kit.fontawesome.com/55c134a797.js' crossorigin='anonymous'></script>

<script>

      var conFoto = true;

      function funzioneFoto() {
            if (conFoto == true) {
                  conFoto = false
                  document.getElementById('fotoBtn').style.background = "red";
                  document.querySelector('#fotoBtn span').textContent = "âŒ Senza Foto";
            } else {
                  conFoto = true
                  document.getElementById('fotoBtn').style.background = "limegreen";
                  document.querySelector('#fotoBtn span').textContent = "âœ… Con Foto";
            }
            console.log("confoto: " + conFoto);
      }
      funzioneFoto()
      
      function assegnaPosti() {
            document.querySelector('button').disabled = true;
            document.getElementById('fotoBtn').disabled = true;
            document.querySelectorAll('.banco').forEach(banco => {
                  banco.textContent = '';
            });


            var intervallo = 300; // intervallo in ms tra ogni scomparsa
     

            document.querySelector('.iContainer').classList.add('iAnim');
            setTimeout(() => {
                  document.querySelector('.iContainer').classList.remove('iAnim');
                  document.querySelector('button').disabled = false;
                  document.getElementById('fotoBtn').disabled = false;
            }, intervallo * 19);

            


            var studenti = [];
            
            const totaleStudenti = 19;
            
            for (let i = 0; i < totaleStudenti; i++) {
                  studenti.push(i + 1);
            }

            const ordineCasuale = [...studenti];
            
            for (let i = ordineCasuale.length -1; i > 0; i--) {
                  const j = Math.floor(Math.random() * (i + 1));
                  [ordineCasuale[i], ordineCasuale[j]] = [ordineCasuale[j], ordineCasuale[i]];
            }
            
            console.log(ordineCasuale);
            
            
            const banchi = document.querySelectorAll('.banco');

            banchi.forEach((banco, index) => {
                  
                  setTimeout(() => {
                        banco.classList.add('pulsa');

                        if (conFoto == false) {
                              banco.textContent = ordineCasuale[index] || '';
                        } else {
                              const img = document.createElement('img');
                              img.src = "fots/" + ordineCasuale[index] + ".jpg";
                              banco.appendChild(img);
                        }
                        setTimeout(() => {
                        banco.classList.remove('pulsa');
                        }, 500);
                  }, index * intervallo);

            });
      }

</script>
</body>
</html>